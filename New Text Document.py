from scipy.stats import norm
import scipy.stats as st
import matplotlib.pyplot as plt
import numpy as np

count = [16, 4, 0, 0, 1, 1, 4, 13, 6, 19, 34, 36, 52, 65, 78, 84, 75, 103, 134, 152, 176, 251, 282, 355, 365, 454,
     538, 623, 684, 783, 1024, 1082, 1224, 1386, 1517, 1633, 1792, 1892, 2125, 2078, 2972, 2809, 2956, 3051, 3208, 3127,
     3315, 3227, 3443, 3349, 4654, 3904, 3737, 3488, 3504, 3078, 3139, 2932, 2772, 2639, 4911, 2777, 2508, 2128, 2013,
     1766, 1647, 1338, 1345, 1029, 2444, 1377, 1249, 982, 953, 829, 716, 572, 590, 399, 914, 505, 382, 280, 236, 263,
     172, 73, 55, 43, 26, 12, 13, 7, 2, 1, 1, 0, 0, 0, 0]


categories =  [0, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950, 1000,
                 1050, 1100, 1150, 1200, 1250, 1300, 1350, 1400, 1450, 1500, 1550, 1600, 1650, 1700, 1750, 1800, 1850,
                 1900, 1950, 2000, 2050, 2100, 2150, 2200, 2250, 2300, 2350, 2400, 2450, 2500, 2550, 2600, 2650, 2700,
                 2750, 2800, 2850, 2900, 2950, 3000, 3050, 3100, 3150, 3200, 3250, 3300, 3350, 3400, 3450, 3500, 3550,
                 3600, 3650, 3700, 3750, 3800, 3850, 3900, 3950, 4000, 4050, 4100, 4150, 4200, 4250, 4300, 4350, 4400,
                 4450, 4500, 4550, 4600, 4650, 4700, 4750, 4800, 4850, 4900, 4950, 5000]
hist = []
for x in range (0,len(count)-1):
    for y in range (0, count[x]):
        hist.append(categories[x])
        



(mu, sigma) = norm.fit(hist)
print(mu)
print(sigma)
plt.hist(hist, bins=50, normed=True, alpha=0.6, color='g')

x = np.linspace(0, 5000, 100)
p = norm.pdf(x, mu, sigma)
plt.plot(x, p, "k", linewidth=2)

title = "Fit results: mu = %.2f,  sigma = %.2f" % (mu, sigma)
# plt.title(title)
# plt.show()

num = float(2250)
z_sc = (num - mu)/sigma
prob = st.norm.cdf(z_sc)
# if num > mu:
#     prob = 1 - st.norm.cdf(z_sc)
# else:
#     prob = st.norm.cdf(z_sc)
#     prob = -prob
print(prob)